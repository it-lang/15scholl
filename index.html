<!DOCTYPE html>
<html lang="kk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Білім Сапасы</title>
    <link rel="stylesheet" href="styles.css">
</head>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
    }
    
    header {
        background-color: #007BFF;
        color: white;
        text-align: center;
        padding: 1em 0;
    }
    
    main {
        padding: 20px;
    }
    
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }
    
    th,
    td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
    }
    
    th {
        background-color: #007BFF;
        color: white;
    }
    
    .admin-panel {
        margin-top: 20px;
        padding: 20px;
        background-color: #fff;
        border: 1px solid #ddd;
    }
    
    .admin-panel input {
        margin: 5px;
        padding: 10px;
        width: calc(14.2857% - 22px);
    }
    
    .admin-panel button {
        background-color: #007BFF;
        color: white;
        border: none;
        padding: 10px;
        cursor: pointer;
    }
    
    .admin-panel button:hover {
        background-color: #0056b3;
    }
    
    .auth-panel {
        margin-bottom: 20px;
    }
    
    .auth-panel input {
        padding: 10px;
        margin-right: 10px;
    }
    
    footer {
        text-align: center;
        padding: 1em 0;
        background-color: #007BFF;
        color: white;
    }
</style>

<body>
    <header>
        <h1>Жанар Ахметова: 2-11 сыныптардың білім сапасы</h1>
    </header>

    <main>
        <div class="auth-panel">
            <input type="password" id="admin-password" placeholder="Пароль администратора">
            <button id="login-button">Кіру</button>
            <button id="logout-button" style="display: none;">Шығу</button>
        </div>

        <table id="data-table">
            <thead>
                <tr>
                    <th>Сынып</th>
                    <th>Барлығы</th>
                    <th>Оқу озаттары</th>
                    <th>Оқу екпінділері</th>
                    <th>Үшке оқитындар</th>
                    <th>Үлгермейтіндер</th>
                    <th>Аттестациядан өтпегендер</th>
                    <th>Білім сапасының %</th>
                    <th>Әрекет</th>
                </tr>
            </thead>
            <tbody>
                <!-- Данные будут добавлены через JavaScript -->
            </tbody>
        </table>

        <div class="admin-panel" style="display: none;">
            <h2>Әкімшілік панелі</h2>
            <input type="text" id="class" placeholder="Сынып">
            <input type="number" id="total" placeholder="Барлығы">
            <input type="number" id="excellent" placeholder="Оқу озаттары">
            <input type="number" id="active" placeholder="Оқу екпінділері">
            <input type="number" id="three" placeholder="Үшке оқитындар">
            <input type="number" id="failing" placeholder="Үлгермейтіндер">
            <input type="number" id="not_passed" placeholder="Аттестациядан өтпегендер">
            <input type="number" id="quality" placeholder="Білім сапасының %" step="0.01">
            <button id="add-button">Қосу</button>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Білім Сапасы</p>
    </footer>

    <script>
        const dataTable = document.getElementById('data-table').getElementsByTagName('tbody')[0];
        const addButton = document.getElementById('add-button');
        const loginButton = document.getElementById('login-button');
        const logoutButton = document.getElementById('logout-button');
        const adminPanel = document.querySelector('.admin-panel');
        const authPanel = document.querySelector('.auth-panel');
        const adminPasswordInput = document.getElementById('admin-password');

        // Шаблон данных
        let data = JSON.parse(localStorage.getItem('educationData')) || [{
                class: '2а',
                total: 19,
                excellent: 6,
                active: 4,
                three: 9,
                failing: 0,
                not_passed: 0,
                quality: 52.63
            }, {
                class: '2ә',
                total: 22,
                excellent: 7,
                active: 8,
                three: 7,
                failing: 0,
                not_passed: 0,
                quality: 68.18
            },
            // Добавьте больше данных...
        ];

        // Рендеринг таблицы
        function renderTable() {
            dataTable.innerHTML = '';
            data.forEach((row, index) => {
                const newRow = dataTable.insertRow();
                Object.values(row).forEach((text) => {
                    const newCell = newRow.insertCell();
                    newCell.textContent = text;
                });
                const actionCell = newRow.insertCell();
                actionCell.innerHTML = `<button onclick="deleteRow(${index})">Жою</button>`;
            });
        }

        // Добавление новой строки
        function addRow() {
            const newRow = {
                class: document.getElementById('class').value,
                total: parseInt(document.getElementById('total').value),
                excellent: parseInt(document.getElementById('excellent').value),
                active: parseInt(document.getElementById('active').value),
                three: parseInt(document.getElementById('three').value),
                failing: parseInt(document.getElementById('failing').value),
                not_passed: parseInt(document.getElementById('not_passed').value),
                quality: parseFloat(document.getElementById('quality').value),
            };

            data.push(newRow);
            localStorage.setItem('educationData', JSON.stringify(data)); // Сохранение данных в localStorage
            renderTable();
        }

        // Удаление строки
        function deleteRow(index) {
            data.splice(index, 1);
            localStorage.setItem('educationData', JSON.stringify(data)); // Сохранение данных в localStorage
            renderTable();
        }

        // Аутентификация администратора
        loginButton.addEventListener('click', () => {
            const password = adminPasswordInput.value;
            if (password === 'admin') {
                adminPanel.style.display = 'block';
                loginButton.style.display = 'none';
                logoutButton.style.display = 'block';
                renderTable();
            } else {
                alert('Неверный пароль!');
            }
        });

        // Выход из админ-панели
        logoutButton.addEventListener('click', () => {
            adminPanel.style.display = 'none';
            loginButton.style.display = 'inline-block';
            logoutButton.style.display = 'none';
            adminPasswordInput.value = ''; // Сброс пароля
        });

        // Событие добавления строки
        addButton.addEventListener('click', addRow);
        renderTable();
    </script>
</body>

</html>
